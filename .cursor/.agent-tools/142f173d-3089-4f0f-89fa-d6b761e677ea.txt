[Terminal output truncated: ~180KB dropped from beginning]
 resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
[xUnit.net 00:00:00.55]       ---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
[xUnit.net 00:00:00.55]       -------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
[xUnit.net 00:00:00.55]       ---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
[xUnit.net 00:00:00.55]       -------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
[xUnit.net 00:00:00.55]       Stack Trace:
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
[xUnit.net 00:00:00.55]            at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
[xUnit.net 00:00:00.55]         E:\TMS\backend\HydraPharm.TMS.Api\Program.cs(102,0): at Program.<Main>$(String[] args)
[xUnit.net 00:00:00.55]            at InvokeStub_Program.<Main>$(Object, Span`1)
[xUnit.net 00:00:00.55]            at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
[xUnit.net 00:00:00.55]         --- End of stack trace from previous location ---
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.CreateHost()
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.Hosting.HostFactoryResolver.<>c__DisplayClass10_0.<ResolveHostFactory>b__0(String[] args)
[xUnit.net 00:00:00.55]            at Microsoft.AspNetCore.Mvc.Testing.DeferredHostBuilder.Build()
[xUnit.net 00:00:00.55]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateHost(IHostBuilder builder)
[xUnit.net 00:00:00.55]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.DelegatedWebApplicationFactory.CreateHost(IHostBuilder builder)
[xUnit.net 00:00:00.55]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.ConfigureHostBuilder(IHostBuilder hostBuilder)
[xUnit.net 00:00:00.55]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.EnsureServer()
[xUnit.net 00:00:00.55]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(DelegatingHandler[] handlers)
[xUnit.net 00:00:00.55]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(Uri baseAddress, DelegatingHandler[] handlers)
[xUnit.net 00:00:00.55]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient(WebApplicationFactoryClientOptions options)
[xUnit.net 00:00:00.55]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient()
[xUnit.net 00:00:00.55]         E:\TMS\backend\HydraPharm.TMS.Tests\Integration\Controllers\RoutesControllerTests.cs(26,0): at HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests..ctor(WebApplicationFactory`1 factory)
[xUnit.net 00:00:00.55]            at InvokeStub_RoutesControllerTests..ctor(Object, Span`1)
[xUnit.net 00:00:00.55]            at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
[xUnit.net 00:00:00.55]         ----- Inner Stack Trace #1 (System.InvalidOperationException) -----
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.55]         ----- Inner Stack Trace -----
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.55]         ----- Inner Stack Trace #2 (System.InvalidOperationException) -----
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.55]         ----- Inner Stack Trace -----
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.55]         ----- Inner Stack Trace #3 (System.InvalidOperationException) -----
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.55]         ----- Inner Stack Trace -----
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.55]         ----- Inner Stack Trace #4 (System.InvalidOperationException) -----
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.55]         ----- Inner Stack Trace -----
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.55]         ----- Inner Stack Trace #5 (System.InvalidOperationException) -----
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.55]         ----- Inner Stack Trace -----
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.55]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.55]     HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests.GetRoute_WithValidId_ShouldReturnRoute [FAIL]
[xUnit.net 00:00:00.59]       System.AggregateException : Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.)
[xUnit.net 00:00:00.59]       ---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
[xUnit.net 00:00:00.59]       -------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
[xUnit.net 00:00:00.59]       ---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
[xUnit.net 00:00:00.59]       -------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
[xUnit.net 00:00:00.59]       ---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
[xUnit.net 00:00:00.59]       -------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
[xUnit.net 00:00:00.59]       ---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
[xUnit.net 00:00:00.59]       -------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
[xUnit.net 00:00:00.59]       ---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
[xUnit.net 00:00:00.59]       -------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
[xUnit.net 00:00:00.59]       Stack Trace:
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
[xUnit.net 00:00:00.59]            at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
[xUnit.net 00:00:00.59]         E:\TMS\backend\HydraPharm.TMS.Api\Program.cs(102,0): at Program.<Main>$(String[] args)
[xUnit.net 00:00:00.59]            at InvokeStub_Program.<Main>$(Object, Span`1)
[xUnit.net 00:00:00.59]            at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
[xUnit.net 00:00:00.59]         --- End of stack trace from previous location ---
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.CreateHost()
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.Hosting.HostFactoryResolver.<>c__DisplayClass10_0.<ResolveHostFactory>b__0(String[] args)
[xUnit.net 00:00:00.59]            at Microsoft.AspNetCore.Mvc.Testing.DeferredHostBuilder.Build()
[xUnit.net 00:00:00.59]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateHost(IHostBuilder builder)
[xUnit.net 00:00:00.59]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.DelegatedWebApplicationFactory.CreateHost(IHostBuilder builder)
[xUnit.net 00:00:00.59]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.ConfigureHostBuilder(IHostBuilder hostBuilder)
[xUnit.net 00:00:00.59]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.EnsureServer()
[xUnit.net 00:00:00.59]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(DelegatingHandler[] handlers)
[xUnit.net 00:00:00.59]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(Uri baseAddress, DelegatingHandler[] handlers)
[xUnit.net 00:00:00.59]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient(WebApplicationFactoryClientOptions options)
[xUnit.net 00:00:00.59]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient()
[xUnit.net 00:00:00.59]         E:\TMS\backend\HydraPharm.TMS.Tests\Integration\Controllers\RoutesControllerTests.cs(26,0): at HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests..ctor(WebApplicationFactory`1 factory)
[xUnit.net 00:00:00.59]            at InvokeStub_RoutesControllerTests..ctor(Object, Span`1)
[xUnit.net 00:00:00.59]            at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
[xUnit.net 00:00:00.59]         ----- Inner Stack Trace #1 (System.InvalidOperationException) -----
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.59]         ----- Inner Stack Trace -----
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.59]         ----- Inner Stack Trace #2 (System.InvalidOperationException) -----
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.59]         ----- Inner Stack Trace -----
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.59]         ----- Inner Stack Trace #3 (System.InvalidOperationException) -----
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.59]         ----- Inner Stack Trace -----
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.59]         ----- Inner Stack Trace #4 (System.InvalidOperationException) -----
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.59]         ----- Inner Stack Trace -----
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.59]         ----- Inner Stack Trace #5 (System.InvalidOperationException) -----
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.59]         ----- Inner Stack Trace -----
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.59]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.61]       System.AggregateException : Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.)
[xUnit.net 00:00:00.61]       ---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
[xUnit.net 00:00:00.61]       -------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
[xUnit.net 00:00:00.61]       ---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
[xUnit.net 00:00:00.61]       -------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
[xUnit.net 00:00:00.61]       ---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
[xUnit.net 00:00:00.61]       -------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
[xUnit.net 00:00:00.61]       ---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
[xUnit.net 00:00:00.61]       -------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
[xUnit.net 00:00:00.61]       ---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
[xUnit.net 00:00:00.61]       -------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
[xUnit.net 00:00:00.61]       Stack Trace:
[xUnit.net 00:00:00.61]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.61]            at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
[xUnit.net 00:00:00.61]            at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
[xUnit.net 00:00:00.61]            at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
[xUnit.net 00:00:00.61]         E:\TMS\backend\HydraPharm.TMS.Api\Program.cs(102,0): at Program.<Main>$(String[] args)
[xUnit.net 00:00:00.61]            at InvokeStub_Program.<Main>$(Object, Span`1)
[xUnit.net 00:00:00.61]            at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
[xUnit.net 00:00:00.61]         --- End of stack trace from previous location ---
[xUnit.net 00:00:00.61]            at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.CreateHost()
[xUnit.net 00:00:00.61]            at Microsoft.Extensions.Hosting.HostFactoryResolver.<>c__DisplayClass10_0.<ResolveHostFactory>b__0(String[] args)
[xUnit.net 00:00:00.61]            at Microsoft.AspNetCore.Mvc.Testing.DeferredHostBuilder.Build()
[xUnit.net 00:00:00.61]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateHost(IHostBuilder builder)
[xUnit.net 00:00:00.61]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.DelegatedWebApplicationFactory.CreateHost(IHostBuilder builder)
[xUnit.net 00:00:00.61]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.ConfigureHostBuilder(IHostBuilder hostBuilder)
[xUnit.net 00:00:00.61]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.EnsureServer()
[xUnit.net 00:00:00.61]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(DelegatingHandler[] handlers)
[xUnit.net 00:00:00.61]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(Uri baseAddress, DelegatingHandler[] handlers)
[xUnit.net 00:00:00.61]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient(WebApplicationFactoryClientOptions options)
[xUnit.net 00:00:00.61]            at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient()
[xUnit.net 00:00:00.61]         E:\TMS\backend\HydraPharm.TMS.Tests\Integration\Controllers\RoutesControllerTests.cs(26,0): at HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests..ctor(WebApplicationFactory`1 factory)
[xUnit.net 00:00:00.61]            at InvokeStub_RoutesControllerTests..ctor(Object, Span`1)
[xUnit.net 00:00:00.61]            at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
[xUnit.net 00:00:00.61]         ----- Inner Stack Trace #1 (System.InvalidOperationException) -----
[xUnit.net 00:00:00.61]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.61]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.61]         ----- Inner Stack Trace -----
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.62]         ----- Inner Stack Trace #2 (System.InvalidOperationException) -----
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.62]         ----- Inner Stack Trace -----
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.62]         ----- Inner Stack Trace #3 (System.InvalidOperationException) -----
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.62]         ----- Inner Stack Trace -----
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.62]         ----- Inner Stack Trace #4 (System.InvalidOperationException) -----
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.62]         ----- Inner Stack Trace -----
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.62]         ----- Inner Stack Trace #5 (System.InvalidOperationException) -----
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
[xUnit.net 00:00:00.62]         ----- Inner Stack Trace -----
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
[xUnit.net 00:00:00.62]            at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.59]     HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests.CreateRoute_WithValidCommand_ShouldReturnCreated [FAIL]
[xUnit.net 00:00:00.61]     HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests.CreateRoute_WithInvalidCommand_ShouldReturnBadRequest [FAIL]
  Passed HydraPharm.TMS.Tests.Infrastructure.External.GeocodingServiceTests.GeocodeAddress_WithValidAddress_ShouldReturnCoordinates [113 ms]
  Passed HydraPharm.TMS.Tests.Infrastructure.External.GeocodingServiceTests.ReverseGeocode_WithInvalidCoordinates_ShouldReturnNull [< 1 ms]
  Failed HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests.GetRoute_WithValidId_ShouldReturnRoute [1 ms]
  Error Message:
   System.AggregateException : Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.)
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
  Stack Trace:
     at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in E:\TMS\backend\HydraPharm.TMS.Api\Program.cs:line 102
   at InvokeStub_Program.<Main>$(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
--- End of stack trace from previous location ---
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.CreateHost()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.<>c__DisplayClass10_0.<ResolveHostFactory>b__0(String[] args)
   at Microsoft.AspNetCore.Mvc.Testing.DeferredHostBuilder.Build()
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateHost(IHostBuilder builder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.DelegatedWebApplicationFactory.CreateHost(IHostBuilder builder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.ConfigureHostBuilder(IHostBuilder hostBuilder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.EnsureServer()
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(DelegatingHandler[] handlers)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(Uri baseAddress, DelegatingHandler[] handlers)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient(WebApplicationFactoryClientOptions options)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient()
   at HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests..ctor(WebApplicationFactory`1 factory) in E:\TMS\backend\HydraPharm.TMS.Tests\Integration\Controllers\RoutesControllerTests.cs:line 26
   at InvokeStub_RoutesControllerTests..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
----- Inner Stack Trace #1 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #2 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #3 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #4 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #5 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
  Passed HydraPharm.TMS.Tests.Domain.Logistics.Services.OptimizationServiceTests.OptimizeMultipleRoutes_WithMultipleRoutes_ShouldOptimizeAll [388 ms]
  Failed HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests.CreateRoute_WithValidCommand_ShouldReturnCreated [1 ms]
  Error Message:
   System.AggregateException : Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.)
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
  Stack Trace:
     at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in E:\TMS\backend\HydraPharm.TMS.Api\Program.cs:line 102
   at InvokeStub_Program.<Main>$(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
--- End of stack trace from previous location ---
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.CreateHost()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.<>c__DisplayClass10_0.<ResolveHostFactory>b__0(String[] args)
   at Microsoft.AspNetCore.Mvc.Testing.DeferredHostBuilder.Build()
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateHost(IHostBuilder builder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.DelegatedWebApplicationFactory.CreateHost(IHostBuilder builder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.ConfigureHostBuilder(IHostBuilder hostBuilder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.EnsureServer()
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(DelegatingHandler[] handlers)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(Uri baseAddress, DelegatingHandler[] handlers)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient(WebApplicationFactoryClientOptions options)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient()
   at HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests..ctor(WebApplicationFactory`1 factory) in E:\TMS\backend\HydraPharm.TMS.Tests\Integration\Controllers\RoutesControllerTests.cs:line 26
   at InvokeStub_RoutesControllerTests..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
----- Inner Stack Trace #1 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #2 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #3 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #4 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #5 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
  Failed HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests.CreateRoute_WithInvalidCommand_ShouldReturnBadRequest [1 ms]
  Error Message:
   System.AggregateException : Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.)
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
  Stack Trace:
     at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in E:\TMS\backend\HydraPharm.TMS.Api\Program.cs:line 102
   at InvokeStub_Program.<Main>$(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
--- End of stack trace from previous location ---
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.CreateHost()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.<>c__DisplayClass10_0.<ResolveHostFactory>b__0(String[] args)
   at Microsoft.AspNetCore.Mvc.Testing.DeferredHostBuilder.Build()
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateHost(IHostBuilder builder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.DelegatedWebApplicationFactory.CreateHost(IHostBuilder builder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.ConfigureHostBuilder(IHostBuilder hostBuilder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.EnsureServer()
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(DelegatingHandler[] handlers)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(Uri baseAddress, DelegatingHandler[] handlers)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient(WebApplicationFactoryClientOptions options)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient()
   at HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests..ctor(WebApplicationFactory`1 factory) in E:\TMS\backend\HydraPharm.TMS.Tests\Integration\Controllers\RoutesControllerTests.cs:line 26
   at InvokeStub_RoutesControllerTests..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
----- Inner Stack Trace #1 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #2 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #3 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #4 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #5 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
  Passed HydraPharm.TMS.Tests.Infrastructure.External.GeocodingServiceTests.GeocodeAddress_WithInvalidAddress_ShouldReturnNull [114 ms]
  Passed HydraPharm.TMS.Tests.Domain.Logistics.Services.OptimizationServiceTests.OptimizeRoute_WithTimeMinimization_ShouldOptimizeForTime [108 ms]
  Passed HydraPharm.TMS.Tests.Infrastructure.External.GeocodingServiceTests.CalculateDistance_WithSameCoordinates_ShouldReturnZero [60 ms]
  Passed HydraPharm.TMS.Tests.Application.Routes.Queries.GetRouteByIdQueryHandlerTests.Handle_WithNonExistentRouteId_ShouldReturnNull [571 ms]
  Passed HydraPharm.TMS.Tests.Application.Routes.Commands.OptimizeRouteCommandHandlerTests.Handle_WithValidRoute_ShouldOptimizeRouteAndReturnSuccess [559 ms]
  Passed HydraPharm.TMS.Tests.Application.Routes.Queries.GetRoutesByStatusQueryHandlerTests.Handle_WhenRepositoryThrowsException_ShouldThrowException [574 ms]
  Passed HydraPharm.TMS.Tests.Application.Routes.Queries.GetRouteByIdQueryHandlerTests.Handle_WhenRepositoryThrowsException_ShouldThrowException [28 ms]
  Passed HydraPharm.TMS.Tests.Application.Routes.Commands.OptimizeRouteCommandHandlerTests.Handle_WhenOptimizationFails_ShouldReturnFailure [28 ms]
  Passed HydraPharm.TMS.Tests.Application.Routes.Queries.GetRouteByIdQueryHandlerTests.Handle_WithValidRouteId_ShouldReturnRoute [3 ms]
  Passed HydraPharm.TMS.Tests.Application.Routes.Commands.OptimizeRouteCommandHandlerTests.Handle_WithNonExistentRoute_ShouldReturnFailure [2 ms]
  Passed HydraPharm.TMS.Tests.Application.Routes.Queries.GetRoutesByStatusQueryHandlerTests.Handle_WithValidStatus_ShouldReturnRoutes [33 ms]
[xUnit.net 00:00:01.09]   Finished:    HydraPharm.TMS.Tests
  Passed HydraPharm.TMS.Tests.Application.Routes.Queries.GetRoutesByStatusQueryHandlerTests.Handle_WithNoRoutesFound_ShouldReturnEmptyList [1 ms]
  Passed HydraPharm.TMS.Tests.Domain.Logistics.Services.OptimizationServiceTests.OptimizeRouteWithOrders_WithMultipleOrders_ShouldOptimizeRoute [168 ms]
  Passed HydraPharm.TMS.Tests.Domain.Logistics.Services.OptimizationServiceTests.OptimizeRoute_WithDistanceMinimization_ShouldReduceDistance [110 ms]
  Passed HydraPharm.TMS.Tests.Domain.Logistics.Services.OptimizationServiceTests.OptimizeRoute_WithCapacityConstraints_ShouldRespectCapacity [117 ms]

Total tests: 52
     Passed: 46
     Failed: 6
 Total time: 1,5271 Seconds
Test Run Failed.
       _VSTestConsole:
         MSB4181: The "VSTestTask" task returned false but did not log an error.
     3>Done Building Project "E:\TMS\backend\HydraPharm.TMS.Tests\HydraPharm.TMS.Tests.csproj" (VSTest target(s)) -- FAILED.
     1>Done Building Project "E:\TMS\backend\HydraPharm.TMS.sln" (VSTest target(s)) -- FAILED.

Build FAILED.
    0 Warning(s)
    0 Error(s)

Time Elapsed 00:00:04.49

Workload updates are available. Run `dotnet workload list` for more information.
