  Determining projects to restore...
  All projects are up-to-date for restore.
  HydraPharm.TMS.Domain -> E:\TMS\backend\HydraPharm.TMS.Domain\bin\Debug\net9.0\HydraPharm.TMS.Domain.dll
  HydraPharm.TMS.Application -> E:\TMS\backend\HydraPharm.TMS.Application\bin\Debug\net9.0\HydraPharm.TMS.Application.dll
  HydraPharm.TMS.Infrastructure -> E:\TMS\backend\HydraPharm.TMS.Infrastructure\bin\Debug\net9.0\HydraPharm.TMS.Infrastructure.dll
  HydraPharm.TMS.Api -> E:\TMS\backend\HydraPharm.TMS.Api\bin\Debug\net9.0\HydraPharm.TMS.Api.dll
  HydraPharm.TMS.Tests -> E:\TMS\backend\HydraPharm.TMS.Tests\bin\Debug\net9.0\HydraPharm.TMS.Tests.dll
Test run for E:\TMS\backend\HydraPharm.TMS.Tests\bin\Debug\net9.0\HydraPharm.TMS.Tests.dll (.NETCoreApp,Version=v9.0)
VSTest version 17.14.1 (x64)

Starting test execution, please wait...
A total of 1 test files matched the specified pattern.
  Failed HydraPharm.TMS.Tests.Domain.Logistics.BasicOrderTests.Create_WithNegativePackageCount_ShouldThrowArgumentException [68 ms]
  Error Message:
   Expected a <System.ArgumentException> to be thrown, but no exception was thrown.
[xUnit.net 00:00:00.29]     HydraPharm.TMS.Tests.Domain.Logistics.BasicOrderTests.Create_WithNegativePackageCount_ShouldThrowArgumentException [FAIL]
  Stack Trace:
     at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
   at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(String message)
   at FluentAssertions.Specialized.DelegateAssertionsBase`2.ThrowInternal[TException](Exception exception, String because, Object[] becauseArgs)
   at FluentAssertions.Specialized.DelegateAssertions`2.Throw[TException](String because, Object[] becauseArgs)
   at HydraPharm.TMS.Tests.Domain.Logistics.BasicOrderTests.Create_WithNegativePackageCount_ShouldThrowArgumentException() in E:\TMS\backend\HydraPharm.TMS.Tests\Domain\Logistics\BasicOrderTests.cs:line 107
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
  Failed HydraPharm.TMS.Tests.Application.Orders.Commands.ChangeOrderStatusCommandHandlerTests.Handle_WithSameStatus_ShouldNotUpdateOrder [8 ms]
  Error Message:
   Moq.MockException : 
Expected invocation on the mock should never have been performed, but was 1 times: r => r.UpdateAsync(Order, It.IsAny<CancellationToken>())

Performed invocations:

   Mock<IOrderRepository:8> (r):

      IOrderRepository.GetByIdAsync(8c721d90-a252-4b7f-a01a-bda2630f05db, CancellationToken)
      IOrderRepository.UpdateAsync(Order, CancellationToken)

  Stack Trace:
     at Moq.Mock.Verify(Mock mock, LambdaExpression expression, Times times, String failMessage) in /_/src/Moq/Mock.cs:line 331
   at Moq.Mock`1.Verify[TResult](Expression`1 expression, Func`1 times) in /_/src/Moq/Mock`1.cs:line 1033
   at HydraPharm.TMS.Tests.Application.Orders.Commands.ChangeOrderStatusCommandHandlerTests.Handle_WithSameStatus_ShouldNotUpdateOrder() in E:\TMS\backend\HydraPharm.TMS.Tests\Application\Orders\Commands\ChangeOrderStatusCommandHandlerTests.cs:line 168
--- End of stack trace from previous location ---
[xUnit.net 00:00:00.30]     HydraPharm.TMS.Tests.Application.Orders.Commands.ChangeOrderStatusCommandHandlerTests.Handle_WithSameStatus_ShouldNotUpdateOrder [FAIL]
[xUnit.net 00:00:00.45]     HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests.GetRoutesByStatus_WithValidStatus_ShouldReturnRoutes [FAIL]
  Failed HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests.GetRoutesByStatus_WithValidStatus_ShouldReturnRoutes [1 ms]
  Error Message:
   System.AggregateException : Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.)
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
  Stack Trace:
     at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in E:\TMS\backend\HydraPharm.TMS.Api\Program.cs:line 102
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
--- End of stack trace from previous location ---
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.CreateHost()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.<>c__DisplayClass10_0.<ResolveHostFactory>b__0(String[] args)
   at Microsoft.AspNetCore.Mvc.Testing.DeferredHostBuilder.Build()
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateHost(IHostBuilder builder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.DelegatedWebApplicationFactory.CreateHost(IHostBuilder builder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.ConfigureHostBuilder(IHostBuilder hostBuilder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.EnsureServer()
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(DelegatingHandler[] handlers)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(Uri baseAddress, DelegatingHandler[] handlers)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient(WebApplicationFactoryClientOptions options)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient()
   at HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests..ctor(WebApplicationFactory`1 factory) in E:\TMS\backend\HydraPharm.TMS.Tests\Integration\Controllers\RoutesControllerTests.cs:line 39
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
----- Inner Stack Trace #1 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #2 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #3 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #4 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #5 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
[xUnit.net 00:00:00.48]     HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests.OptimizeRoute_WithValidCommand_ShouldReturnOptimizedRoute [FAIL]
[xUnit.net 00:00:00.52]     HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests.GetRoute_WithValidId_ShouldReturnRoute [FAIL]
[xUnit.net 00:00:00.57]     HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests.CreateRoute_WithValidCommand_ShouldReturnCreated [FAIL]
[xUnit.net 00:00:00.59]     HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests.CreateRoute_WithInvalidCommand_ShouldReturnBadRequest [FAIL]
  Failed HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests.OptimizeRoute_WithValidCommand_ShouldReturnOptimizedRoute [1 ms]
  Error Message:
   System.AggregateException : Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.)
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
  Stack Trace:
     at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in E:\TMS\backend\HydraPharm.TMS.Api\Program.cs:line 102
   at InvokeStub_Program.<Main>$(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
--- End of stack trace from previous location ---
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.CreateHost()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.<>c__DisplayClass10_0.<ResolveHostFactory>b__0(String[] args)
   at Microsoft.AspNetCore.Mvc.Testing.DeferredHostBuilder.Build()
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateHost(IHostBuilder builder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.DelegatedWebApplicationFactory.CreateHost(IHostBuilder builder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.ConfigureHostBuilder(IHostBuilder hostBuilder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.EnsureServer()
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(DelegatingHandler[] handlers)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(Uri baseAddress, DelegatingHandler[] handlers)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient(WebApplicationFactoryClientOptions options)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient()
   at HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests..ctor(WebApplicationFactory`1 factory) in E:\TMS\backend\HydraPharm.TMS.Tests\Integration\Controllers\RoutesControllerTests.cs:line 39
   at InvokeStub_RoutesControllerTests..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
----- Inner Stack Trace #1 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #2 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #3 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #4 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #5 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
  Failed HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests.GetRoute_WithValidId_ShouldReturnRoute [1 ms]
  Error Message:
   System.AggregateException : Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.)
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
  Stack Trace:
     at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in E:\TMS\backend\HydraPharm.TMS.Api\Program.cs:line 102
   at InvokeStub_Program.<Main>$(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
--- End of stack trace from previous location ---
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.CreateHost()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.<>c__DisplayClass10_0.<ResolveHostFactory>b__0(String[] args)
   at Microsoft.AspNetCore.Mvc.Testing.DeferredHostBuilder.Build()
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateHost(IHostBuilder builder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.DelegatedWebApplicationFactory.CreateHost(IHostBuilder builder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.ConfigureHostBuilder(IHostBuilder hostBuilder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.EnsureServer()
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(DelegatingHandler[] handlers)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(Uri baseAddress, DelegatingHandler[] handlers)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient(WebApplicationFactoryClientOptions options)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient()
   at HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests..ctor(WebApplicationFactory`1 factory) in E:\TMS\backend\HydraPharm.TMS.Tests\Integration\Controllers\RoutesControllerTests.cs:line 39
   at InvokeStub_RoutesControllerTests..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
----- Inner Stack Trace #1 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #2 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #3 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #4 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #5 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
  Failed HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests.CreateRoute_WithValidCommand_ShouldReturnCreated [1 ms]
  Error Message:
   System.AggregateException : Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.)
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
  Stack Trace:
     at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in E:\TMS\backend\HydraPharm.TMS.Api\Program.cs:line 102
   at InvokeStub_Program.<Main>$(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
--- End of stack trace from previous location ---
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.CreateHost()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.<>c__DisplayClass10_0.<ResolveHostFactory>b__0(String[] args)
   at Microsoft.AspNetCore.Mvc.Testing.DeferredHostBuilder.Build()
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateHost(IHostBuilder builder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.DelegatedWebApplicationFactory.CreateHost(IHostBuilder builder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.ConfigureHostBuilder(IHostBuilder hostBuilder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.EnsureServer()
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(DelegatingHandler[] handlers)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(Uri baseAddress, DelegatingHandler[] handlers)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient(WebApplicationFactoryClientOptions options)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient()
   at HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests..ctor(WebApplicationFactory`1 factory) in E:\TMS\backend\HydraPharm.TMS.Tests\Integration\Controllers\RoutesControllerTests.cs:line 39
   at InvokeStub_RoutesControllerTests..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
----- Inner Stack Trace #1 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #2 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #3 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #4 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #5 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
  Failed HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests.CreateRoute_WithInvalidCommand_ShouldReturnBadRequest [1 ms]
  Error Message:
   System.AggregateException : Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.)
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQuery,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRouteByIdQueryHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQuery,System.Collections.Generic.List`1[HydraPharm.TMS.Domain.Logistics.Route]] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Queries.GetRoutesByStatusQueryHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommand,HydraPharm.TMS.Application.Routes.Commands.CreateRouteResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.CreateRouteCommandHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommand,HydraPharm.TMS.Domain.Logistics.Route] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Routes.Repositories.IRouteRepository' while attempting to activate 'HydraPharm.TMS.Application.Routes.Commands.OptimizeRouteCommandHandler'.
---- System.InvalidOperationException : Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommand,HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusResult] Lifetime: Transient ImplementationType: HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler': Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
-------- System.InvalidOperationException : Unable to resolve service for type 'HydraPharm.TMS.Application.Common.IDeliveryRepository' while attempting to activate 'HydraPharm.TMS.Application.Deliveries.Commands.UpdateDeliveryStatusCommandHandler'.
  Stack Trace:
     at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in E:\TMS\backend\HydraPharm.TMS.Api\Program.cs:line 102
   at InvokeStub_Program.<Main>$(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
--- End of stack trace from previous location ---
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.CreateHost()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.<>c__DisplayClass10_0.<ResolveHostFactory>b__0(String[] args)
   at Microsoft.AspNetCore.Mvc.Testing.DeferredHostBuilder.Build()
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateHost(IHostBuilder builder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.DelegatedWebApplicationFactory.CreateHost(IHostBuilder builder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.ConfigureHostBuilder(IHostBuilder hostBuilder)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.EnsureServer()
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(DelegatingHandler[] handlers)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateDefaultClient(Uri baseAddress, DelegatingHandler[] handlers)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient(WebApplicationFactoryClientOptions options)
   at Microsoft.AspNetCore.Mvc.Testing.WebApplicationFactory`1.CreateClient()
   at HydraPharm.TMS.Tests.Integration.Controllers.RoutesControllerTests..ctor(WebApplicationFactory`1 factory) in E:\TMS\backend\HydraPharm.TMS.Tests\Integration\Controllers\RoutesControllerTests.cs:line 39
   at InvokeStub_RoutesControllerTests..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
----- Inner Stack Trace #1 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #2 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #3 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #4 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
----- Inner Stack Trace #5 (System.InvalidOperationException) -----
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
----- Inner Stack Trace -----
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)

Failed!  - Failed:     7, Passed:    96, Skipped:     0, Total:   103, Duration: 930 ms - HydraPharm.TMS.Tests.dll (net9.0)

Workload updates are available. Run `dotnet workload list` for more information.
