# Webpack-Based SCSS and Tailwind CSS Setup for Handlebars Templates

This project uses a **professional webpack-based approach** to automatically compile SCSS and Tailwind CSS for Handlebars (.hbs) templates.

## ğŸ¯ Key Benefits

- âœ… **Automatic Compilation**: No manual commands needed - styles build automatically
- âœ… **Development Watch Mode**: SCSS changes trigger instant rebuilds during development
- âœ… **Production Optimization**: CSS is minified and optimized for production
- âœ… **Hot Reloading**: Development builds use style-loader for instant CSS updates
- âœ… **Professional Integration**: Seamlessly integrated with existing NestJS + webpack build

## ğŸ“ Project Structure

```
src/
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ main.scss             # Main SCSS file with Tailwind integration
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â””â”€â”€ layout.hbs            # Main layout template with CSS linking
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â””â”€â”€ demo.hbs              # Sample page demonstrating features
â”‚   â””â”€â”€ templates/
â”œâ”€â”€ public/
â”‚   â””â”€â”€ css/
â”‚       â””â”€â”€ styles.css            # Compiled CSS (auto-generated by webpack)
â””â”€â”€ main.ts                       # App entry point that imports styles
```

## ğŸš€ How It Works

### 1. Webpack Entry Point
```typescript
// src/main.ts
import './assets/styles/main.scss'; // â† Webpack processes this automatically
```

### 2. Build Process
- **Development**: `npm run start:dev` 
  - Compiles SCSS â†’ CSS with hot reloading
  - Webpack watch mode for instant updates
  - Source maps for debugging

- **Production**: `npm run build`
  - Compiles and minifies SCSS â†’ CSS
  - Extracts CSS to separate file
  - Optimizes Tailwind utilities

## ğŸ“¦ Dependencies Installed

- **sass**: SCSS compiler
- **css-loader**: CSS processing
- **style-loader**: Injects CSS into DOM (development)
- **mini-css-extract-plugin**: Extracts CSS to separate files (production)
- **postcss-loader**: PostCSS processing with Tailwind and Autoprefixer
- **tailwindcss**: Utility-first CSS framework
- **autoprefixer**: CSS vendor prefixing

## ğŸ›  Configuration Files

### webpack.config.js
```javascript
// Handles SCSS compilation with Tailwind CSS
// - Development: Uses style-loader for hot reloading
// - Production: Uses MiniCssExtractPlugin for separate CSS files
// - PostCSS: Processes Tailwind and Autoprefixer automatically
```

### nest-cli.json
```json
{
  "compilerOptions": {
    "assets": [
      { "include": "views/**/*", "watchAssets": true },
      { "include": "public/**/*", "watchAssets": true },
      { "include": "assets/styles/**/*", "watchAssets": true }
    ]
  }
}
```

### tailwind.config.js
```javascript
module.exports = {
  content: [
    "./src/views/**/*.{hbs,js,ts}",
    "./src/public/**/*.{html,js,ts}"
  ],
  // Custom configuration...
}
```

## ğŸš€ Usage

### Development Workflow
```bash
# Start development server with automatic CSS compilation
npm run start:dev

# SCSS changes automatically trigger rebuilds
# CSS updates appear instantly in the browser
```

### Production Build
```bash
# Build application with optimized CSS
npm run build

# CSS file generated: dist/public/css/styles.css (9.9KB optimized)
```

### Using in Templates
```handlebars
{{!< layout/layout}}

<div class="container-custom">
  <div class="card">
    <h1 class="text-gradient text-3xl font-bold mb-4">
      B2B E-Commerce Platform
    </h1>
    <p class="text-gray-600 mb-6">
      SCSS + Tailwind CSS automatically compiled!
    </p>
    
    <div class="flex gap-4">
      <button class="btn-primary">Primary Button</button>
      <button class="btn-secondary">Secondary Button</button>
    </div>
  </div>
</div>
```

### SCSS Custom Components Available

#### Buttons
```scss
.btn               // Base button styles
.btn-primary       // Primary action (blue)
.btn-secondary     // Secondary action (gray)
```

#### Layout
```scss
.container-custom  // Responsive container
.card             // Card component with shadow
```

#### Typography
```scss
.text-gradient    // Gradient text effect
.responsive-text  // Responsive font sizing
```

#### Utilities
```scss
.fade-in         // Fade in animation
```

## ğŸ”§ How to Add Custom SCSS

### 1. Create SCSS Files
```scss
// src/assets/styles/components/your-component.scss
.your-component {
  @apply bg-primary-100 p-4 rounded-lg;
  
  &:hover {
    @apply bg-primary-200;
  }
}
```

### 2. Import in main.scss
```scss
// src/assets/styles/main.scss
@import 'components/your-component';
@tailwind base;
@tailwind components;
@tailwind utilities;
// ... rest of existing styles
```

### 3. Use in Templates
```handlebars
<div class="your-component">
  Your styled content here!
</div>
```

## ğŸ¨ Design System

### Colors
- **Primary**: Blue scale (50-900) - `text-primary-600`, `bg-primary-700`
- **Gray Scale**: Standard gray utilities
- **Status**: Success, warning, error colors

### Responsive Design
- **Mobile First**: All utilities work responsive
- **Breakpoints**: sm, md, lg, xl prefixes
- **Container**: Auto-centered with responsive padding

## ğŸ“Š Performance

### Development
- **Hot Reloading**: CSS updates in < 100ms
- **Source Maps**: Full debugging support
- **Fast Builds**: Incremental compilation

### Production
- **Minified Output**: 9.9KB optimized CSS
- **Tree Shaking**: Unused Tailwind utilities removed
- **Asset Optimization**: CSS automatically optimized

## ğŸ” Integration with NestJS

- **Assets Watching**: NestJS watches style files for changes
- **Static Serving**: CSS served from `/css/styles.css`
- **Build Pipeline**: Styles compiled during `npm run build`
- **Development Mode**: Instant updates during `npm run start:dev`

## ğŸš¨ What's Different from Manual Approach

### Before (Manual)
```bash
node build-styles.js build  # Manual command required
npm run build               # Styles not included
```

### Now (Automated)
```bash
npm run start:dev           # Styles automatically compiled + hot reloaded
npm run build              # Styles automatically optimized + included
```

## âœ… Professional Benefits

1. **Industry Standard**: Uses webpack best practices
2. **Zero Manual Work**: Styles build automatically
3. **Development Experience**: Hot reloading, source maps
4. **Production Ready**: Optimized, minified, tree-shaken
5. **Scalable**: Easy to add new components and utilities
6. **Maintainable**: Integrated with existing NestJS workflow

---

## ğŸ‰ Setup Complete

Your project now has enterprise-grade SCSS and Tailwind CSS integration! 

**Key Commands:**
- `npm run start:dev` - Start with automatic style compilation
- `npm run build` - Build with optimized CSS

**Key Location:**
- Styles: `/css/styles.css` (served automatically)
- SCSS: `src/assets/styles/main.scss`
- Templates: Use any Tailwind class or custom SCSS component

The manual build approach has been replaced with a professional webpack-based solution that's industry standard and much more maintainable!
